<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="./checkboard.js"></script>
    <script src="./move.js"></script>
    <script src="./coordTranslator.js"></script>
</head>
<body>

Game ID : <span id="game-id"></span><br/>
<a href="#" id="new-game">new game</a>

<br/>

<canvas id="checkerboard" width="400" height="400" style="border: 1px solid black">

    <script>
        $(document).ready(function () {
            checkboard.canvas = document.getElementById("checkerboard");
            checkboard.context2D = checkboard.canvas.getContext("2d");
            $("#new-game").click(function () {
                $.get("http://localhost:3333/chess/game/new", function (data) {
                    $("#game-id").html(data.id);
                    checkboard.board = data.currentBoard.board;
                    checkboard.drawCanvas();
                });
            });

            $("#checkerboard").click(function (e) { //Relative ( to its parent) mouse position 
                var posX = e.pageX - $(this).position().left;
                var posY = e.pageY - $(this).position().top;
                var coord = coordTranslator.translateRowCol(checkboard.translatePixels(posY), checkboard.translatePixels(posX));
                processCoord(coord);
            });

        });

    </script>

</body>
</html>